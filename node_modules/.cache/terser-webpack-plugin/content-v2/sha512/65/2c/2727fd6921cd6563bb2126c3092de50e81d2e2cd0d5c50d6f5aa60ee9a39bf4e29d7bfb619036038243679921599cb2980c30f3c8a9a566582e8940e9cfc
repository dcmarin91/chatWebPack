{"code":"!function(e){var t={};function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,o){o(1),function(){var e=new Error(\"Cannot find module 'bundle.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}()},function(e,t){document.addEventListener(\"DOMContentLoaded\",()=>{let e=document.querySelector(\"#save-user\"),t=document.querySelector(\"#user-name\");e.addEventListener(\"click\",()=>{localStorage.setItem(\"userName\",t.value),document.getElementById(\"login\").style.display=\"none\",n(),l(),o.collection(\"usuarios\").onSnapshot(e=>{e.docChanges().forEach(e=>{if(\"added\"===e.type){let t=e.doc.data();u(t)}})})});firebase.initializeApp({apiKey:\"AIzaSyCOUcDSSOibf46hFGwx093i6bq-UJ6zCXk\",authDomain:\"chatfirebase-df340.firebaseapp.com\",databaseURL:\"https://chatfirebase-df340.firebaseio.com\",projectId:\"chatfirebase-df340\",storageBucket:\"chatfirebase-df340.appspot.com\",messagingSenderId:\"823623127299\",appId:\"1:823623127299:web:0066af1f9e08361a\"});let o=firebase.firestore();const n=()=>{o.collection(\"messages\").orderBy(\"date\",\"asc\").onSnapshot(e=>{e.docChanges().forEach(e=>{if(\"added\"===e.type){(e=>{let t=document.createElement(\"div\");t.classList.add(\"chats\"),t.innerHTML=`<h3>${e.name}</h3><span>${e.date}</span><p>${e.body}</p>`,document.querySelector(\".window\").appendChild(t)})(e.doc.data())}})})},a=()=>{let e=document.querySelector(\"#chatInput\"),t={name:localStorage.userName,date:r(),body:e.value};c(t),e.value=\" \"},r=()=>{let e=new Date,t=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"][e.getMonth()],o=e.getDate(),n=e.toLocaleString(\"en-US\",{hour:\"numeric\",minute:\"numeric\",hour12:!0});return t.concat(\" \",o,\" \",n)},c=e=>{o.collection(\"messages\").add({name:e.name,date:e.date,body:e.body})},l=()=>(()=>o.collection(\"usuarios\").where(\"user\",\"==\",localStorage.userName).get().then(e=>!e.empty))().then(e=>{e?console.log(\"Ya el nombre existe\"):(console.log(localStorage.userName),o.collection(\"usuarios\").add({user:localStorage.userName}))}),u=e=>{let t=document.createElement(\"li\");t.innerHTML=`<div id=\"${e.user}\" class=\"users\">\\n            <i class=\"fas fa-circle\"></i>\\n            <span>${e.user}</span>\\n            <i class=\"fas fa-ellipsis-v\"></i>\\n          </div>`,document.querySelector(\"ul\").appendChild(t)};console.log(localStorage.userName),document.addEventListener(\"click\",()=>{console.log(`#${localStorage.userName}`);let e=document.querySelector(`${localStorage.userName}`);console.log(e)}),document.querySelector(\"#chatInput\").addEventListener(\"keydown\",e=>{\"Enter\"===e.key&&a()})})}]);","extractedComments":[]}